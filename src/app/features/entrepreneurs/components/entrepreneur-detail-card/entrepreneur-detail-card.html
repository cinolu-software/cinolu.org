<app-hero-card
  [background]="'images/entrepeneur-default.jpg'"
  [badgeIcon]="icons.users"
  badgeText="Profil Entrepreneur"
  [title]="entrepreneur()?.name || 'Nom non disponible'"
  [description]="entrepreneur()?.biography || ''" />
@if (entrepreneur(); as entrepreneur) { {{venture | json}}
<div class="sm:py-16 md:py-20 px-6 sm:px-8 lg:px-16 xl:px-24 py-10 2xl:px-32 max-w-screen-2xl mx-auto">
  <div class="grid lg:grid-cols-12 gap-8 items-start">
    <aside class="lg:col-span-4 lg:sticky lg:top-6 self-start">
      <div
        class="bg-white rounded-lg shadow-xl border border-gray-200/50 overflow-visible backdrop-blur-sm transform hover:shadow-none transition-all duration-500">
        <div
          class="relative h-40 bg-gradient-to-br from-primary-400 via-primary-500 to-primary-600 overflow-hidden rounded-t-lg">
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
          <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"></div>
          <div class="absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"></div>
        </div>
        <div class="relative -mt-14 mb-6 flex justify-center">
          <div class="relative rounded-full ring-8 w-28 h-28 ring-white shadow-2xl overflow-hidden bg-white">
            <img
              [ngSrc]="entrepreneur | apiIMG: 'user'"
              alt="{{ entrepreneur.name }}"
              class="object-cover hover:scale-110 transition-transform duration-500"
              fill
              priority />
          </div>
        </div>

        <div class="pb-8 px-6">
          <div class="text-center mb-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-2 hover:text-primary-600 transition-colors">
              {{ entrepreneur.name }}
            </h2>
            <div
              class="inline-flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 rounded-full text-sm text-gray-600">
              <i-lucide [name]="icons.mapPin" [size]="16" class="text-primary-500" />
              <span class="font-medium">
                {{ entrepreneur.city || "Ville inconnue" }}, {{ entrepreneur.country || "Pays inconnu" }}
              </span>
            </div>
          </div>

          @if (venture(); as venture) {
          <div class="space-y-4 mb-8">
            <div
              class="group bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-lg p-5 border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all duration-300">
              <div class="flex items-center gap-3 mb-2">
                <div class="p-2 bg-white rounded-lg shadow-sm group-hover:scale-110 transition-transform">
                  <i-lucide [name]="icons.briefcase" [size]="18" class="text-gray-600" />
                </div>
                <p class="text-xs font-bold text-gray-500 uppercase tracking-wider">Secteur d'activité</p>
              </div>
              <p class="text-base font-bold text-gray-900 ml-14">{{ venture.sector || "Non défini" }}</p>
            </div>

            <div
              class="group bg-gradient-to-br from-primary-50 via-primary-100/50 to-primary-50 rounded-lg p-5 border-2 border-primary-200 hover:border-primary-300 hover:shadow-lg hover:shadow-primary-100 transition-all duration-300">
              <div class="flex items-center gap-3 mb-2">
                <div class="p-2 bg-white rounded-lg shadow-sm group-hover:scale-110 transition-transform">
                  <i-lucide [name]="icons.trendingUp" [size]="18" class="text-primary-600" />
                </div>
                <p class="text-xs font-bold text-primary-700 uppercase tracking-wider">Phase du projet</p>
              </div>
              <p class="text-base font-bold text-primary-900 ml-14">{{ venture.stage || "Non défini" }}</p>
            </div>
          </div>

          <div class="pt-6 border-t-2 border-gray-100">
            <div class="flex justify-center items-center gap-4">
              @if (venture.linkedin_url) {
              <a
                [href]="venture.linkedin_url"
                target="_blank"
                rel="noopener noreferrer"
                class="group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-4 hover:shadow-xl hover:shadow-blue-200 hover:scale-110 transition-all duration-300">
                <img src="icons/linkedin.svg" alt="LinkedIn" class="h-6 w-6 brightness-0 invert" />
                <span
                  class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">
                  LinkedIn
                </span>
              </a>
              } @if (venture.website) {
              <a
                [href]="venture.website"
                target="_blank"
                rel="noopener noreferrer"
                class="group relative bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg p-4 hover:shadow-xl hover:shadow-primary-200 hover:scale-110 transition-all duration-300">
                <img src="icons/internet.svg" alt="Site web" class="h-6 w-6 brightness-0 invert" />
                <span
                  class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">
                  Site web
                </span>
              </a>
              }
            </div>
          </div>
          }
        </div>
      </div>
    </aside>

    <main class="lg:col-span-8 space-y-8 lg:space-y-10">
      <article
        class="bg-white rounded-lg shadow-lg border border-gray-200/50 overflow-hidden hover:shadow-xl transition-shadow duration-500">
        <div
          class="bg-gradient-to-r from-primary-500 via-primary-600 to-primary-500 px-8 py-6 relative overflow-hidden">
          <div
            class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse"></div>
          <h3 class="relative text-2xl font-bold text-white flex items-center gap-3">
            <div class="p-2 bg-white/20 rounded-lg backdrop-blur-sm">
              <i-lucide [name]="icons.user" [size]="24" class="text-white" />
            </div>
            À propos
          </h3>
        </div>
        <div class="p-8 lg:p-10">
          <p class="text-gray-700 leading-loose whitespace-pre-line text-base lg:text-lg">
            {{ entrepreneur.biography || "Aucune biographie disponible." }}
          </p>
        </div>
      </article>

      <section>
        <div class="flex items-center gap-4 mb-8 lg:mb-10">
          <div class="h-1.5 w-16 bg-gradient-to-r from-primary-400 to-primary-600 rounded-full shadow-lg"></div>
          <h3 class="text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent">
            Entreprise de {{ entrepreneur.name }}
          </h3>
          <div class="flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"></div>
        </div>

        @if (hasVenture()) { @if (venture(); as venture) {
        <div
          class="group bg-white rounded-lg shadow-sm hover:shadow-2xl border border-gray-200/50 overflow-hidden transition-all duration-700 transform hover:-translate-y-2">
          <div class="relative w-full h-80 overflow-hidden">
            <img
              fill
              [ngSrc]="venture | apiIMG: 'ventureCover'"
              alt="venture.name {{ + venture.name }}"
              class="object-cover group-hover:scale-110 transition-transform duration-1000"
              priority />
            <div
              class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent group-hover:from-black/80 transition-all duration-500"></div>

            @if (venture.logo) {
            <div class="absolute bottom-6 left-6 transform group-hover:scale-110 transition-transform duration-500">
              <div
                class="w-24 h-24 rounded-lg bg-white shadow-2xl p-2.5 overflow-hidden ring-4 ring-white/50 backdrop-blur-sm">
                <img
                  fill
                  [ngSrc]="venture | apiIMG: 'venture'"
                  alt="logo"
                  class="object-cover w-full h-full rounded-lg"
                  priority />
              </div>
            </div>
            } @if (venture.stage) {
            <div class="absolute top-6 right-6 transform group-hover:scale-110 transition-transform duration-500">
              <span
                class="inline-flex items-center gap-2.5 bg-white/95 backdrop-blur-md px-5 py-3 rounded-full text-sm font-bold text-primary-600 shadow-2xl ring-2 ring-primary-100">
                <span class="relative flex h-3 w-3">
                  <span
                    class="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-3 w-3 bg-primary-500"></span>
                </span>
                {{ venture.stage }}
              </span>
            </div>
            }
          </div>

          <div class="p-8 lg:p-10">
            <h4
              class="text-3xl font-bold text-gray-900 mb-4 group-hover:text-primary-600 transition-colors duration-300">
              {{ venture.name }}
            </h4>
            <p class="text-gray-600 leading-relaxed mb-8 line-clamp-3 text-lg">{{ venture.description }}</p>

            <p-button [routerLink]="['/entrepreneurs/venture', venture.slug]" outlined psize="small" severity="primary">
              <p class="flex items-center justify-center gap-3 px-8">
                <span class="font-bold text-base">Découvrir</span>
                <i-lucide
                  class="size-5 group-hover:translate-x-2 transition-transform duration-300"
                  [name]="icons.moveRight" />
              </p>
            </p-button>
          </div>
        </div>
        } } @else {
        <div
          class="relative bg-gradient-to-br from-gray-50 via-white to-gray-50 rounded-lg p-16 lg:p-20 text-center border-2 border-dashed border-gray-300 overflow-hidden">
          <div class="absolute top-0 right-0 w-64 h-64 bg-primary-100/20 rounded-full -mr-32 -mt-32 blur-3xl"></div>
          <div class="absolute bottom-0 left-0 w-64 h-64 bg-primary-100/20 rounded-full -ml-32 -mb-32 blur-3xl"></div>

          <div class="relative z-10">
            <div
              class="w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
              <i-lucide [name]="icons.package" [size]="48" class="text-gray-500" />
            </div>
            <p class="text-gray-700 text-2xl font-bold mb-3">Aucun projet publié pour le moment</p>
            <p class="text-gray-500 text-base max-w-md mx-auto">
              Revenez plus tard pour découvrir les projets innovants de cet entrepreneur
            </p>
          </div>
        </div>
        }
      </section>
    </main>
  </div>
</div>
} @else {
<div class="flex flex-col items-center justify-center min-h-[75vh] py-20 px-6">
  <div class="relative mb-8">
    <div class="w-32 h-32 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center">
      <svg class="w-16 h-16 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
      </svg>
    </div>
  </div>
  <p class="text-3xl lg:text-4xl font-black text-gray-800 mb-3 font-satoshi text-center">Entrepreneur introuvable</p>
  <p class="text-gray-600 text-lg text-center max-w-md">
    Désolé, nous n'avons pas pu trouver l'entrepreneur que vous recherchez.
  </p>
</div>
}
