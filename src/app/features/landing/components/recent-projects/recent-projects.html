<section
  class="py-10 lg:py-20 px-8 lg:px-16 xl:px-24 2xl:px-32 max-w-screen-2xl mx-auto fade-left-init"
  id="projects"
  appAnimationsOnScroll>
  <header class="flex flex-col lg:flex-row lg:items-end justify-between gap-8 mb-8 lg:mb-12">
    <div class="max-w-2xl">
      <div
        class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-50 to-primary-100 text-primary-700 text-sm font-semibold rounded-full border border-primary-200/60 mb-6">
        <div class="w-2 h-2 bg-primary-500 rounded-full mr-2"></div>
        {{ 'recent_projects.badge' | translate }}
      </div>
      <h3 class="text-3xl sm:text-4xl lg:text-5xl font-black text-gray-800 font-satoshi mb-4 tracking-tight leading-tight hyphens-none">
        {{ 'recent_projects.title' | translate }}
      </h3>
    </div>
    <div class="flex flex-col sm:flex-row sm:items-end gap-6">
      <p class="text-slate-500 text-lg max-w-sm border-l-2 border-primary-500 pl-6 italic">
        {{ 'recent_projects.description' | translate }}
      </p>
      @if (store.projects()) {
      <div class="hidden lg:flex items-center gap-4 shrink-0">
        <button (click)="carousel.navBackward($event)" class="carousel-nav-btn" type="button">
          <i-lucide [name]="icons.moveLeft" class="size-3.5" />
        </button>
        <button (click)="carousel.navForward($event)" class="carousel-nav-btn" type="button">
          <i-lucide [name]="icons.moveRight" class="size-3.5" />
        </button>
      </div>
      }
    </div>
  </header>
  @if (store.isLoading()) {
  <div class="mt-8 grid grid-cols-1 gap-x-5 gap-y-10 md:grid-cols-2 lg:grid-cols-3 pb-10">
    @for (p of [1, 3, 3]; track p) {
    <app-project-card-skeleton />
    }
  </div>
  }
  <div class="space-y-6 lg:space-y-8 mt-8 lg:mt-12">
    <p-carousel
      #carousel
      [value]="store.projects()"
      [numVisible]="3"
      [numScroll]="1"
      [showIndicators]="false"
      [showNavigators]="false"
      [circular]="true"
      [responsiveOptions]="carouselConfig"
      [autoplayInterval]="5000"
      [draggable]="true"
      class="projects-carousel">
      <ng-template let-project #item>
        <div class="carousel-item-wrapper">
          <app-project-card [project]="project" [buttonTextKey]="'recent_projects.explore'" />
        </div>
      </ng-template>
    </p-carousel>

    <div class="flex lg:hidden justify-center items-center gap-6 pt-4">
      <button (click)="carousel.navBackward($event)" class="carousel-nav-btn" type="button">
        <i-lucide [name]="icons.moveLeft" class="size-4" />
      </button>

      <button (click)="carousel.navForward($event)" class="carousel-nav-btn" type="button">
        <i-lucide [name]="icons.moveRight" class="size-4" />
      </button>
    </div>

    <div class="w-full flex justify-center items-center mt-12">
      <a routerLink="/programs" class="group relative">
        <button
          class="relative flex items-center gap-3 px-8 py-4 bg-white border-2 border-primary-500 text-primary-600 font-semibold rounded-full hover:bg-primary-50 transition-all duration-300 hover:shadow-lg hover:shadow-primary-500/25">
          <span>{{ 'recent_projects.view_all' | translate }}</span>
          <i-lucide
            class="size-5 group-hover:translate-x-1 transition-transform duration-300"
            [name]="icons.MoveRight" />
        </button>
      </a>
    </div>
  </div>
</section>
