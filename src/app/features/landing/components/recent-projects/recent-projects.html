<section
  class="py-10 lg:py-20 px-8 lg:px-16 xl:px-24 2xl:px-32 max-w-screen-2xl mx-auto fade-left-init"
  id="projects"
  appAnimationsOnScroll
>
  <div class="flex flex-wrap justify-between items-center">
    <div class="mb-10">
      <h3
        class="text-3xl text-center sm:text-4xl lg:text-5xl font-black font-satoshi tracking-tight leading-tight"
      >
        Les programmes r√©cents
      </h3>
    </div>

    <div class="flex items-center gap-4 place-self-end">
      <button
        (click)="carousel.navBackward($event)"
        class="carousel-nav-btn"
        type="button"
      >
        <i-lucide [name]="icons.moveLeft" class="size-3.5" />
      </button>
      <button
        (click)="carousel.navForward($event)"
        class="carousel-nav-btn"
        type="button"
      >
        <i-lucide [name]="icons.moveRight" class="size-3.5" />
      </button>
    </div>
  </div>
  @if (store.isLoading()) {
    <div
      class="mt-8 grid grid-cols-1 gap-x-5 gap-y-10 md:grid-cols-2 lg:grid-cols-3 pb-10"
    >
      @for (p of [1, 3, 3]; track $index) {
        <app-project-card-skeleton />
      }
    </div>
  }
  <div class="space-y-4">
    <p-carousel
      #carousel
      [value]="store.projects()"
      [numVisible]="3"
      [numScroll]="1"
      [showIndicators]="false"
      [showNavigators]="false"
      [circular]="true"
      [responsiveOptions]="carouselConfig"
      [autoplayInterval]="5000"
    >
      <ng-template let-project #item>
        <div class="sm:px-3">
          <app-project-card [project]="project" />
        </div>
      </ng-template>
    </p-carousel>

    <div class="w-full flex justify-center items-center">
      <a routerLink="/programs" class="w-fit">
        <p-button psize="large" rounded="full" outlined severity="primary">
          <span class="group flex items-center gap-2 px-8">
            Tous les programmes
            <i-lucide
              class="size-4 group-hover:translate-x-0.5 transition-transform duration-300"
              [name]="icons.moveUpRight"
            />
          </span>
        </p-button>
      </a>
    </div>
  </div>
</section>
