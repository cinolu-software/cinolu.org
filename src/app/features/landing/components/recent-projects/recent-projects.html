<section
  class="pt-20 px-8 lg:px-16 xl:px-24 2xl:px-32 max-w-screen-2xl mx-auto fade-right-init"
  id="projects"
  appAnimationsOnScroll
>
  <div class="flex justify-between items-center mb-6">
    <div class="mb-10">
      <h3
        class="text-3xl text-center sm:text-4xl lg:text-5xl font-black font-satoshi tracking-tight leading-tight"
      >
        Programmes r√©cents
      </h3>
    </div>

    <div class="flex items-center gap-4 place-self-end">
      <button
        (click)="carousel.navBackward($event)"
        class="carousel-nav-btn"
        type="button"
        aria-label="Previous slide"
      >
        <i-lucide
          [name]="icons.moveLeft"
          class="size-3.5"
          aria-hidden="true"
          focusable="false"
        ></i-lucide>
      </button>
      <button
        (click)="carousel.navForward($event)"
        class="carousel-nav-btn"
        type="button"
        aria-label="Next slide"
      >
        <i-lucide
          [name]="icons.moveRight"
          class="size-3.5"
          aria-hidden="true"
          focusable="false"
        ></i-lucide>
      </button>
    </div>
  </div>

  @if (store.isLoading()) {
    <div
      class="mt-8 grid grid-cols-1 gap-x-5 gap-y-10 md:grid-cols-2 lg:grid-cols-3 pb-10"
    >
      @for (project of [1, 3, 3]; track $index) {
        <app-project-card-skeleton />
      }
    </div>
  }

  <div class="flex flex-col items-center content-center gap-5">
    <p-carousel
      #carousel
      [value]="store.projects()"
      [numVisible]="3"
      [numScroll]="1"
      [showIndicators]="false"
      [showNavigators]="false"
      [circular]="true"
      [responsiveOptions]="carouselConfig"
    >
      <ng-template let-project #item>
        <div class="mr-3.5">
          <app-project-card [project]="project" />
        </div>
      </ng-template>
    </p-carousel>
    <a
      routerLink="/programs"
      class="group flex items-center justify-center gap-3 max-w-2xs mt-6 text-center py-2 px-6 rounded-full border-2 border-primary-500 text-primary-500 font-semibold text-base shadow-md hover:bg-primary-500 hover:text-white hover:shadow-lg transition-all duration-300 max-sm:max-w-fit max-sm:m-auto"
    >
      Tous les programmes
      <i-lucide
        [name]="icons.moveUpRight"
        class="h-5 w-5 transform transition-transform duration-300 group-hover:-translate-y-1 group-hover:translate-x-1"
      />
    </a>
  </div>
</section>
