<div class="bg-grid bg-gray-50">
  <section
    class="py-10 lg:py-20 px-8 lg:px-16 xl:px-24 2xl:px-32 max-w-screen-2xl mx-auto fade-left-init"
    id="projects"
    appAnimationsOnScroll>
    <div class="flex flex-wrap justify-between items-center mb-6">
      <div class="mb-10">
        <h3 class="text-3xl text-center sm:text-4xl lg:text-5xl font-black font-satoshi tracking-tight leading-tight">
          Les événements récents
        </h3>
      </div>

      <div class="flex items-center gap-4 place-self-end">
        <button (click)="carousel.navBackward($event)" class="carousel-nav-btn" type="button">
          <i-lucide [name]="icons.moveLeft" class="size-3.5" />
        </button>
        <button (click)="carousel.navForward($event)" class="carousel-nav-btn" type="button">
          <i-lucide [name]="icons.moveRight" class="size-3.5" />
        </button>
      </div>
    </div>

    @if (store.isLoading()) {
    <div class="mt-8 grid grid-cols-1 gap-x-5 gap-y-10 md:grid-cols-2 lg:grid-cols-3 pb-10">
      @for (project of [1, 3, 3]; track $index) {
      <app-event-card-skeleton />
      }
    </div>
    }
    <div class="flex flex-col gap-5">
      <p-carousel
        #carousel
        [value]="store.events()"
        [numVisible]="3"
        [numScroll]="1"
        [showIndicators]="false"
        [showNavigators]="false"
        [circular]="true"
        [responsiveOptions]="carouselOptions">
        <ng-template let-event #item>
          <div class="sm:px-3">
            <app-event-card [event]="event" />
          </div>
        </ng-template>
      </p-carousel>
    </div>

    <div class="w-full flex justify-center items-center mt-4">
      <a routerLink="/events" class="w-fit">
        <p-button psize="large" rounded="full" outlined severity="primary">
          <span class="group flex items-center gap-2 px-8">
            Liste des événements
            <i-lucide
              class="size-4 group-hover:translate-x-0.5 transition-transform duration-300"
              [name]="icons.moveUpRight" />
          </span>
        </p-button>
      </a>
    </div>
  </section>
</div>
