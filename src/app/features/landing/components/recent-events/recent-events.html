<div class="bg-grid bg-gray-50">
  <section
    class="py-10 px-8 lg:px-16 xl:px-24 2xl:px-32 max-w-screen-2xl mx-auto fade-left-init"
    id="projects"
    appAnimationsOnScroll
  >
    <div class="flex flex-wrap justify-between items-center mb-6">
      <div class="mb-10">
        <h3
          class="text-3xl text-center sm:text-4xl lg:text-5xl font-black font-satoshi tracking-tight leading-tight"
        >
          Evénements récents
        </h3>
      </div>

      <div class="flex items-center gap-4 place-self-end">
        <button
          (click)="carousel.navBackward($event)"
          class="carousel-nav-btn"
          type="button"
        >
          <i-lucide [name]="icons.moveLeft" class="size-3.5" />
        </button>
        <button
          (click)="carousel.navForward($event)"
          class="carousel-nav-btn"
          type="button"
        >
          <i-lucide [name]="icons.moveRight" class="size-3.5" />
        </button>
      </div>
    </div>

    @if (store.isLoading()) {
      <div
        class="mt-8 grid grid-cols-1 gap-x-5 gap-y-10 md:grid-cols-2 lg:grid-cols-3 pb-10"
      >
        @for (project of [1, 3, 3]; track $index) {
          <app-event-card-skeleton />
        }
      </div>
    }
    <div class="flex flex-col gap-5">
      <p-carousel
        #carousel
        [value]="store.events()"
        [numVisible]="3"
        [numScroll]="1"
        [showIndicators]="false"
        [showNavigators]="false"
        [circular]="true"
        [responsiveOptions]="carouselOptions"
      >
        <ng-template let-event #item>
          <div class="mr-3.5">
            <app-event-card [event]="event" />
          </div>
        </ng-template>
      </p-carousel>
    </div>

    <a
      routerLink="/events"
      class="group flex items-center justify-center gap-3 max-w-2xs mt-6 text-center py-2 px-6 rounded-full border-2 border-primary-500 text-primary-500 font-semibold text-base shadow-md hover:bg-primary-500 hover:text-white hover:shadow-lg transition-all duration-300 max-sm:max-w-fit max-sm:m-auto"
    >
      Liste des événements
      <i-lucide
        [name]="icons.moveUpRight"
        class="h-5 w-5 transform transition-transform duration-300 group-hover:-translate-y-1 group-hover:translate-x-1"
      />
    </a>
  </section>
</div>
