<section class="py-12 lg:py-20 px-8 sm:px-6 md:px-8 lg:px-16 xl:px-24 2xl:px-32 max-w-screen-2xl mx-auto bg-white">
  <div class="max-w-4xl mx-auto" appAnimationsOnScroll animationType="scale-up" [animationDelay]="200">
    <div class="relative min-h-[200px]">
      @for (testimonial of testimonials; track testimonial.id; let i = $index) {
      <div
        class="transition-all duration-500"
        [class.opacity-100]="activeTestimonial() === i"
        [class.opacity-0]="activeTestimonial() !== i"
        [class.pointer-events-none]="activeTestimonial() !== i"
        [class.absolute]="activeTestimonial() !== i"
        [class.inset-0]="activeTestimonial() !== i">
        <app-testimonial-card [testimonial]="testimonial" />
      </div>
      }
    </div>

    <div class="flex justify-center gap-3 mt-8">
      @for (testimonial of testimonials; track testimonial.id; let i = $index) {
      <button
        (click)="setActiveTestimonial(i)"
        [class.bg-primary-600]="activeTestimonial() === i"
        [class.w-8]="activeTestimonial() === i"
        [class.bg-gray-300]="activeTestimonial() !== i"
        [class.w-3]="activeTestimonial() !== i"
        class="h-3 rounded-full transition-all duration-300 hover:bg-primary-400">
        <span class="sr-only">Sélectionner le témoignage {{i + 1}}</span>
      </button>
      }
    </div>
  </div>
</section>
