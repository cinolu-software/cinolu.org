<app-hero-card
  [background]="entrepreneur()?.ventures?.[0]?.cover || 'default-cover.jpg'"
  [badgeIcon]="icons.users"
  badgeText="Profil Entrepreneur"
  [title]="entrepreneur()?.name || 'Nom non disponible'"
  [highlight]="'Entrepreneur'"
  [description]="entrepreneur()?.ventures?.[0]?.description || ''" />

@if (entrepreneur()) {
<div class="sm:py-16 md:py-20 px-6 sm:px-8 lg:px-16 xl:px-24 py-10 2xl:px-32 max-w-screen-2xl mx-auto">
  <div class="grid md:grid-cols-3 gap-10">
    <div
      class="md:col-span-1 bg-white shadow-md rounded-lg p-8 flex flex-col items-center text-center border border-gray-100">
      <div class="relative w-40 h-40 rounded-full overflow-hidden shadow-md border-4 border-white mb-4">
        <img
          [ngSrc]="entrepreneur() | apiIMG: 'user'"
          [alt]="entrepreneur()?.name"
          class="object-cover"
          loading="lazy"
          fill
          proiority />
      </div>

      <h2 class="text-2xl font-extrabold text-primary-700">{{ entrepreneur()?.name }}</h2>
      <p class="text-sm text-gray-600 mb-1">{{ entrepreneur()?.ventures?.[0]?.sector || "Secteur non défini" }}</p>
      <p class="text-xs text-gray-500">
        {{ entrepreneur()?.city || "Ville inconnue" }} - {{ entrepreneur()?.country || "Pays inconnu" }}
      </p>

      <p class="text-sm text-primary-500 bg-primary-500/10 px-3 py-1 mt-4 rounded-full border border-primary-500/40">
        {{ entrepreneur()?.ventures?.[0]?.stage || "Non défini" }}
      </p>

      <div class="flex justify-center items-center gap-3 mt-6">
        @if (entrepreneur()?.ventures?.[0]?.linkedin_url) {
        <a
          [href]="entrepreneur()?.ventures?.[0]?.linkedin_url"
          target="_blank"
          class="transition border border-primary-500 rounded-full p-1.5 h-9 w-9 flex items-center justify-center hover:bg-primary-500 hover:text-white">
          <img src="icons/linkedin.svg" alt="LinkedIn" class="h-4 w-4" />
        </a>
        } @if (entrepreneur()?.ventures?.[0]?.website) {
        <a
          [href]="entrepreneur()?.ventures?.[0]?.website"
          target="_blank"
          class="transition border border-primary-500 rounded-full p-1.5 h-9 w-9 flex items-center justify-center hover:bg-primary-500 hover:text-white">
          <img src="icons/internet.svg" alt="Site web" class="h-4 w-4" />
        </a>
        }
      </div>
    </div>

    <div class="md:col-span-2 space-y-10">
      <div class="bg-white shadow-sm rounded-lg p-8 border border-gray-100">
        <h3 class="text-lg font-semibold text-primary-700 mb-4">À propos</h3>
        <p class="text-gray-700 leading-relaxed whitespace-pre-line">
          {{ entrepreneur()?.biography || "Aucune biographie disponible." }}
        </p>
      </div>

      <div class="grid sm:grid-cols-2 gap-8">
        @for (venture of entrepreneur()?.ventures; track venture.id) {
        <div
          class="group bg-white shadow-sm hover:shadow-lg rounded-lg overflow-hidden border border-gray-100 transition-all duration-300">
          <div class="relative w-full h-52">
            <img
              fill
              [ngSrc]="venture | apiIMG: 'ventureCover'"
              [alt]="venture.name"
              priority
              class="object-cover group-hover:scale-105 transition-transform duration-300" />

            @if (venture.logo) {
            <div
              class="absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-16 h-16 rounded-full border-4 border-white shadow-md bg-white overflow-hidden">
              <img fill [ngSrc]="venture | apiIMG: 'venture'" alt="logo" class="object-cover w-full h-full" priority />
            </div>
            }
          </div>

          <div class="p-6 pt-12">
            <h4 class="text-lg font-bold text-gray-700 mb-2">{{ venture.name }}</h4>
            <p class="text-sm text-gray-600 mb-3">{{ venture.description }}</p>

            <p class="text-xs text-gray-500 mb-4" *ngIf="venture.stage"><strong>Phase :</strong> {{ venture.stage }}</p>

            <a
              [routerLink]="['/ventures', venture.slug]"
              class="inline-flex items-center gap-2 px-4 py-2 bg-primary-500 text-white text-sm rounded-lg hover:bg-primary-600 transition">
              Découvrir
              <i-lucide
                [name]="icons.moveRight"
                class="size-4 group-hover:translate-x-0.5 transition-transform duration-300"></i-lucide>
            </a>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
</div>
} @else {
<div class="text-center min-h-[75vh] py-20 text-gray-600">
  <p class="text-xl font-black sm:text-2xl md:text-3xl lg:text-4xl font-satoshi">Entrepreneur introuvable</p>
</div>
}
