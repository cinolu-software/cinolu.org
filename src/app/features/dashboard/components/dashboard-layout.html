<div class="flex h-screen overflow-hidden bg-slate-50">
  @if (!isMobile()) {
  <app-dashboard-sidebar [isCollapsed]="isSidebarCollapsed()" [isMobile]="false" (navigate)="navigateTo($event)" />
  }

  <div class="flex-1 flex flex-col overflow-hidden">
    <app-dashboard-header [isMobile]="isMobile()" (toggleSidebar)="toggleSidebar()" />

    <main class="flex-1 overflow-y-auto">
      <div class="container-dashboard">
        <router-outlet />
      </div>
    </main>
  </div>
</div>

@if (isMobile() && isMobileSidebarOpen()) {
<div
  class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-40 animate-in fade-in duration-300"
  (click)="closeMobileSidebar()"
  (keydown.escape)="closeMobileSidebar()"
  role="button"
  tabindex="0"
  aria-label="Fermer le menu"></div>

<div class="fixed inset-y-0 left-0 z-50 animate-in slide-in-from-left duration-300">
  <app-dashboard-sidebar
    [isCollapsed]="false"
    [isMobile]="true"
    (closeSidebar)="closeMobileSidebar()"
    (navigate)="navigateTo($event)" />
</div>
}
<app-back-button />
