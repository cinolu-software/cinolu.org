<div
  class="dashboard-card group cursor-pointer hover:shadow-xl hover:shadow-primary-500/10 transition-all duration-300 overflow-hidden border-l-4 hover:border-l-primary-600">
  <div class="p-5 space-y-4">
    <div class="flex items-start justify-between gap-3">
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-2">
          <span class="dashboard-badge-primary">
            <span class="material-icons text-[11px]">star</span>
            Opportunité
          </span>
          @if (isEndingSoon()) {
          <span class="dashboard-badge-danger flex items-center gap-1 animate-pulse">
            <lucide-icon [img]="icons.clock" class="w-3 h-3" />
            {{ daysLeft() }}j
          </span>
          }
        </div>
        <h3 class="dashboard-heading-5 line-clamp-2 group-hover:text-primary-600 transition-colors leading-tight">
          {{ opportunity().title | titlecase }}
        </h3>
      </div>
    </div>

    <p class="dashboard-text-body line-clamp-2"> {{ opportunity().description }}</p>

    @if (opportunity().tags.length > 0) {
    <div class="flex flex-wrap gap-1.5">
      @for (tag of opportunity().tags.slice(0, 2); track tag.id) {
      <span class="dashboard-badge-neutral text-[11px]"> #{{ tag.name }} </span>
      } @if (opportunity().tags.length > 2) {
      <span class="dashboard-badge-neutral text-[11px]"> +{{ opportunity().tags.length - 2 }} </span>
      }
    </div>
    }

    <div class="flex items-center gap-4 pt-3 border-t border-slate-100">
      <div class="flex items-center gap-2 text-slate-600">
        <lucide-icon [img]="icons.calendarCheck" class="w-3.5 h-3.5 text-emerald-500" />
        <span class="dashboard-text-tiny">{{ opportunity().started_at | date: 'dd/MM/yy' }}</span>
      </div>
      <div class="w-px h-4 bg-slate-200"></div>
      <div class="flex items-center gap-2 text-slate-600">
        <lucide-icon [img]="icons.calendarX" class="w-3.5 h-3.5 text-red-500" />
        <span class="dashboard-text-tiny">{{ opportunity().ended_at | date: 'dd/MM/yy' }}</span>
      </div>
    </div>

    <a [routerLink]="['/dashboard/opportunities', opportunity().slug]" class="dashboard-btn-secondary w-full group/btn">
      <span>Voir les détails</span>
      <lucide-icon [img]="icons.externalLink" class="w-4 h-4 group-hover/btn:translate-x-0.5 transition-transform" />
    </a>
  </div>
</div>
