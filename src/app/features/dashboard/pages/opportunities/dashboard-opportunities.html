<div class="dashboard-container pb-12">
  <div class="dashboard-card p-5 mb-6">
    <div class="flex items-center gap-4">
      <div
        class="w-11 h-11 rounded-lg bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center shadow-lg">
        <span class="material-icons text-white text-xl">star</span>
      </div>
      <div class="flex-1 min-w-0">
        <h1 class="dashboard-heading-3">{{ 'opportunities.list.title' | translate }}</h1>
        <p class="dashboard-text-body">
          {{ totalCount() }} {{ totalCount() > 1 ? 'opportunités personnalisées' : 'opportunité personnalisée' }}
        </p>
      </div>
    </div>
  </div>

  @if (store.isLoading()) {
  <div class="flex flex-col items-center justify-center py-20">
    <div class="relative">
      <div class="w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"></div>
    </div>
    <p class="dashboard-text-body mt-4">{{ 'common.loading' | translate }}</p>
  </div>
  } @else if (opportunities().length === 0) {
  <div class="dashboard-card-elevated p-10 text-center">
    <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 flex items-center justify-center">
      <span class="material-icons text-slate-400 text-4xl">search_off</span>
    </div>
    <h3 class="dashboard-heading-4 mb-2">{{ 'opportunities.list.no_opportunity' | translate }}</h3>
    <p class="dashboard-text-body max-w-md mx-auto">
      Aucune opportunité personnalisée n'est disponible pour le moment. Revenez plus tard !
    </p>
  </div>
  } @else {
  <div class="dashboard-grid">
    @for (opportunity of opportunities(); track opportunity.id) {
    <div class="col-span-12 md:col-span-6 lg:col-span-4">
      <app-dashboard-opportunity-card [opportunity]="opportunity" />
    </div>
    }
  </div>
  }
</div>
