<div class="bg-white rounded-2xl shadow-xl p-8 mb-10 border border-gray-200 relative overflow-hidden">
  <!-- Decorative elements -->
  <div class="absolute top-0 right-0 w-64 h-64 bg-gray-50 rounded-full -mr-32 -mt-32"></div>
  <div class="absolute bottom-0 left-0 w-48 h-48 bg-gray-100 rounded-full -ml-24 -mb-24"></div>
  <div class="relative z-10">
    <div class="flex items-center justify-between mb-6">
      <div>
        <h2 class="text-3xl font-bold text-gray-900 flex items-center gap-3 mb-2">
          <span>Performance Globale {{ year() }}</span>
        </h2>
        <p class="text-gray-600 text-sm">Vue d'ensemble des programmes et indicateurs</p>
      </div>
      <span
        class="text-sm font-semibold text-gray-700 bg-gray-100 px-5 py-2.5 rounded-full shadow-sm border border-gray-200">
        {{ programCount() }} Programme{{ programCount() > 1 ? 's' : '' }}
      </span>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
      <div
        class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 border border-gray-200">
        <div class="flex items-center justify-between mb-3">
          <div class="bg-gray-200 rounded-full text-xs font-medium px-3 py-1">
            <span class="text-xs font-semibold text-gray-700 tracking-wide">Actifs</span>
          </div>
        </div>
        <p class="text-sm text-gray-600 font-medium mb-1">Programmes</p>
        <p class="text-4xl font-black text-gray-900">{{ programCount() }}</p>
      </div>

      <div
        class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 border border-gray-200">
        <div class="flex items-center justify-between mb-3">
          <div class="bg-gray-200 rounded-full text-xs font-medium px-3 py-1">
            <span class="text-xs font-semibold text-gray-700 tracking-wide">Total</span>
          </div>
        </div>
        <p class="text-sm text-gray-600 font-medium mb-1">Indicateurs</p>
        <p class="text-4xl font-black text-gray-900">{{ totalIndicators() }}</p>
      </div>

      <div
        class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 border border-gray-200">
        <div class="flex items-center justify-between mb-3">
          <div
            class="rounded-full p-3 shadow-md"
            [class.bg-gradient-to-br]="true"
            [class.from-red-500]="averagePerformance() < 50"
            [class.to-red-600]="averagePerformance() < 50"
            [class.from-yellow-500]="averagePerformance() >= 50 && averagePerformance() < 80"
            [class.to-yellow-600]="averagePerformance() >= 50 && averagePerformance() < 80"
            [class.from-green-500]="averagePerformance() >= 80"
            [class.to-green-600]="averagePerformance() >= 80">
            <i-lucide
              [img]="averagePerformance() < 50 ? icons.alertTriangle : (averagePerformance() < 80 ? icons.barChart : icons.checkCircle)"
              class="text-white w-6 h-6 stroke-[2]" />
          </div>
          <div
            class="rounded-full px-3 py-1"
            [class.bg-red-50]="averagePerformance() < 50"
            [class.bg-yellow-50]="averagePerformance() >= 50 && averagePerformance() < 80"
            [class.bg-green-50]="averagePerformance() >= 80">
            <span
              class="text-xs font-semibold uppercase tracking-wide"
              [class.text-red-700]="averagePerformance() < 50"
              [class.text-yellow-700]="averagePerformance() >= 50 && averagePerformance() < 80"
              [class.text-green-700]="averagePerformance() >= 80">
              {{ averagePerformance() < 50 ? 'Faible' : (averagePerformance() < 80 ? 'Moyen' : 'Excellent') }}
            </span>
          </div>
        </div>
        <p class="text-sm text-gray-600 font-medium mb-1">Performance</p>
        <p
          class="text-4xl font-black"
          [class.text-red-600]="averagePerformance() < 50"
          [class.text-yellow-600]="averagePerformance() >= 50 && averagePerformance() < 80"
          [class.text-green-600]="averagePerformance() >= 80">
          {{ averagePerformance() }}%
        </p>
      </div>
    </div>
  </div>
</div>
