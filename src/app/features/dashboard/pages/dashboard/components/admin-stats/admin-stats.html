<div
  class="flex items-center justify-between gap-4 mt-10 mb-8 bg-white rounded-xl px-6 py-4 shadow-sm border border-gray-200">
  <div class="flex items-center gap-3">
    <i-lucide [img]="icons.calendar" class="text-primary-600 w-5 h-5 stroke-[2]" />
    <label for="indicator-year" class="font-semibold text-gray-800">Sélectionner l'année :</label>
  </div>
  <p-datepicker
    pSize="small"
    inputId="indicator-year"
    name="indicator-year"
    view="year"
    dateFormat="yy"
    [(ngModel)]="year"
    class="border-primary-500" />
</div>

@if (reportStore.isLoading()) {
<app-performance-skeleton />
} @else if (reportStore.report().length === 0) {
<app-empty-state [year]="selectedYear()" />
} @else {
<app-performance-overview
  [year]="selectedYear()"
  [programCount]="reportStore.report().length"
  [totalIndicators]="totalIndicators()"
  [averagePerformance]="averagePerformance()" />

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  @for (program of reportStore.report(); track program.name; let idx = $index) {
  <app-program-card [program]="program" [index]="idx" />
  }
</div>
}
