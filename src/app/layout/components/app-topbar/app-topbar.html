<header
  class="py-4 fixed top-0 w-full right-0 left-0 flex flex-col text-base justify-center z-20 font-satoshi transition-colors duration-300"
  [ngClass]="{
    'bg-white shadow-sm text-gray-800': isFixed() || fixed(),
    'text-white': !isFixed() && !fixed(),
  }"
>
  <nav
    class="flex justify-between items-center w-full px-8 lg:px-16 xl:px-24 2xl:px-32 max-w-screen-2xl mx-auto"
  >
    <div class="flex gap-3 items-center">
      <a routerLink="/" aria-label="logo" class="inline-block">
        <img
          priority
          [ngSrc]="
            isFixed() || fixed()
              ? 'images/logo/logo-g.png'
              : 'images/logo/logo-w.png'
          "
          width="64"
          height="68"
          alt="logo"
          class="w-8 h-9 cursor-pointer aspect-video object-cover"
        />
      </a>
    </div>
    <div>
      <app-mobile-nav [links]="links()" />
      <app-desktop-nav [links]="links()" />
    </div>

    <div>
      @let user = authStore.user();
      @if (user) {
        <div class="flex gap-3">
          <button class="group relative flex items-center gap-1">
            <div class="flex items-center gap-1">
              <div class="relative h-8 w-8">
                <img
                  [ngSrc]="user | apiIMG: 'user'"
                  alt="User Image"
                  class="aspect-video object-cover ring-2 ring-primary-600 bg-gray-200 rounded-full"
                  fill
                />
              </div>
              <i-lucide
                [name]="icons.chevronRight"
                class="transition-transform duration-300 size-4 group-hover:rotate-45"
              />
            </div>
            <div
              class="invisible absolute right-0 top-full mt-2 w-52 rounded-md bg-white shadow-xl opacity-0 transition-all duration-300 group-hover:visible group-hover:opacity-100"
            >
              <div
                class="text-left flex flex-col divide-y divide-gray-200 py-2"
              >
                <div class="flex flex-col px-4 py-2">
                  <a
                    [routerLink]="'/dashboard'"
                    class="block rounded-lg px-4 py-2 font-medium text-gray-700 transition-colors duration-200 hover:bg-primary-100 hover:text-primary-600"
                  >
                    Mon compte
                  </a>
                </div>
                <div class="flex flex-col px-4 py-2">
                  <button
                    class="flex rounded-lg px-4 py-2 font-medium text-gray-700 transition-colors duration-200 hover:bg-primary-100 hover:text-primary-600"
                    (click)="onSignOut()"
                  >
                    Se d√©connecter
                  </button>
                </div>
              </div>
            </div>
          </button>
        </div>
      } @else {
        <div class="flex gap-4 items-center">
          <a
            routerLink="/sign-in"
            class="relative inline-flex items-center justify-center px-6 py-2 rounded-full border-1 border-primary-500 font-semibold text-primary-500 overflow-hidden group transition duration-300 ease-out hover:text-white"
          >
            <span
              class="absolute inset-0 bg-primary-500 scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 ease-out"
            >
            </span>
            <span class="relative">Connexion</span>
          </a>

          <a
            routerLink="/sign-up"
            class="relative inline-flex items-center justify-center px-6 py-2 rounded-full border border-primary-500 font-semibold text-white overflow-hidden group transition duration-300 ease-out"
          >
            <span
              class="absolute inset-0 bg-primary-500 scale-x-100 group-hover:scale-x-0 transition-transform origin-right duration-300 ease-out"
            ></span>
            <span class="relative group-hover:text-primary-500"
              >Inscription</span
            >
          </a>
        </div>
      }
    </div>
  </nav>
</header>
